load("@build_bazel_rules_apple//apple:apple.bzl", "apple_static_xcframework_import")

apple_static_xcframework_import(
    name = "S4Core",
    xcframework_imports = glob(["S4Core.xcframework/**"]),
    visibility = ["//visibility:public"],
    has_swift = True,
    deps = [
        "//Pods/S4LocalStorage",
        "//Pods/S4Protos",
    ],
)

# apple_framework(
#     name = "S4Core",
#     platforms = {"ios": "12.0"},
#     vendored_xcframeworks = [
#         {
#             "name": "S4Core",
#             "slices": [
#                 {
#                     "identifier": "ios-arm64",
#                     "platform": "ios",
#                     "platform_variant": "",
#                     "supported_archs": ["arm64"],
#                     "path": "S4Core.xcframework/ios-arm64/S4Core.framework",
#                     "build_type": {
#                         "linkage": "static",
#                         "packaging": "framework",
#                     },
#                 },
#                 {
#                     "identifier": "ios-arm64_x86_64-simulator",
#                     "platform": "ios",
#                     "platform_variant": "simulator",
#                     "supported_archs": [
#                         "arm64",
#                         "x86_64",
#                     ],
#                     "path": "S4Core.xcframework/ios-arm64_x86_64-simulator/S4Core.framework",
#                     "build_type": {
#                         "linkage": "static",
#                         "packaging": "framework",
#                     },
#                 },
#             ],
#         },
#     ],
#     visibility = ["//visibility:public"],
#     deps = [
#         "//Pods/S4LocalStorage",
#         "//Pods/S4Protos",
#     ],
# )
