load("@build_bazel_rules_ios//rules:framework.bzl", "apple_framework")

apple_framework(
    name = "FirebaseABTesting",
    srcs = glob(["FirebaseABTesting/Sources/*.m"]),
    non_arc_srcs = glob(
        [
            "FirebaseABTesting/Sources/**/*.m",
            "FirebaseABTesting/Sources/**/*.h",
            "Interop/Analytics/Public/*.h",
            "FirebaseCore/Extension/*.h",
        ],
        exclude = ["FirebaseABTesting/Sources/*.m"],
    ),
    objc_copts = ["-IPods/FirebaseABTesting"],
    platforms = {"ios": "11.0"},
    public_headers = [
        "FirebaseABTesting/Sources/Public/FirebaseABTesting/FirebaseABTesting.h",
        "FirebaseABTesting/Sources/Public/FirebaseABTesting/FIRExperimentController.h",
        "FirebaseABTesting/Sources/Public/FirebaseABTesting/FIRLifecycleEvents.h",
    ],
    swift_copts = [
        "-Xcc",
        "-IPods/FirebaseABTesting",
    ],
    visibility = ["//visibility:public"],
    xcconfig = {"GCC_C_LANGUAGE_STANDARD": "c99"},
    deps = ["//Pods/FirebaseCore"],
)
